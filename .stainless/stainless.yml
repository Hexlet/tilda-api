# yaml-language-server: $schema=https://app.stainless.com/config.schema.json

# The main edition for the config, see the [docs] for more information.
#
# [docs]: https://www.stainless.com/docs/reference/editions
edition: 2026-01-30

organization:
  name: tilda
  docs: https://help-ru.tilda.cc/api
  contact: ''

targets:
  ruby:
    edition: ruby.2025-10-08
    gem_name: tilda
    production_repo: Hexlet/tilda-ruby
    publish:
      rubygems: false

environments:
  production: https://api.tildacdn.info

resources:
  projects:
    models:
      project_list_item: ProjectListItem
      project_info: ProjectInfo
      image_mapping: ImageMapping
    methods:
      list: get /v1/getprojectslist
      retrieve: get /v1/getprojectinfo

  pages:
    models:
      page_summary: PageSummary
      page_body: PageBody
      page_full: PageFull
    methods:
      list: get /v1/getpageslist
      retrieve: get /v1/getpage
      retrieve_full: get /v1/getpagefull

  export:
    models:
      page_export_body: PageExportBody
      page_export_full: PageExportFull
      js_asset: JsAsset
      css_asset: CssAsset
    methods:
      retrieve: get /v1/getpageexport
      retrieve_full: get /v1/getpagefullexport

settings:
  disable_mock_tests: true
  license: Apache-2.0

client_settings:
  opts:
    publickey:
      type: string
      nullable: true
      auth:
        security_scheme: PublicKeyAuth
      description: Tilda API public key
      read_env: TILDA_PUBLIC_KEY
    secretkey:
      type: string
      nullable: true
      auth:
        security_scheme: SecretKeyAuth
      description: Tilda API secret key
      read_env: TILDA_SECRET_KEY

readme:
  example_requests:
    default:
      type: request
      endpoint: get /v1/getprojectslist
    headline:
      type: request
      endpoint: get /v1/getprojectslist

